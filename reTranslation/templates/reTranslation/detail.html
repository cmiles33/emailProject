{% extends "reTranslation/base.html" %}

{% block title %} {{ program.member }}'s {{ program.programName }} program {% endblock %}
{% block dynamicNav %}
    <div class="topnav">
        <a href="{% url 'retranslation:list_programs' %}">Home</a>
        <a class="active"
           href="{% url 'retranslation:program_detail' user=program.member.username programname=program.programName %}">
            Program Details
        </a>
        {% if request.user.is_authenticated %}
            <a href="{% url 'retranslation:logout' %}">Logout</a>
            <a class="text-white">Logged in as: {{ request.user.username|capfirst }}</a>
        {% endif %}
    </div>
{% endblock %}
{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-10">
                <h1>{{ program.member|capfirst }}'s {{ program.programName|capfirst }} program </h1>
                <p class="lead">Hi there {{ program.firstname }}, <br>
                    You are currently on page number: {{ program.programCount }} of your {{ program.programName|capfirst }}
                    translation. <br>
                    Your starting time is at: <span class="text-danger">{{ program.startTime|time }}</span> and your end
                    time is at
                    <span class="text-danger">{{ program.endTime|time }}.</span><br>
                    Below you will find your current responses to your {{ program.programName }} translations.<br>
                    The current time is: {{ currenttime|time }} <br>

                </p>
            </div>
        </div>
        <div class="row">
            <div class="col-5">
                <h2>Finished Translations</h2>
                    <div class="list-group {{ scroll }}">
                        {% if reponses %}
                            {% for response in reponses %}
                                    <li class="list-group-item list-group-item-light">
                                        <a class="h5" href="{{ response.get_absolute_url }}">
                                        {{ response | linebreaks }}
                                        </a>
                                        <small>{{ response.created|date }} {{ response.created|time }}</small>
                                    </li>
                            {% endfor %}
                        {% else %}
                            <h6 class="lead">
                                No finished responses for you yet.
                            </h6>
                        {% endif %}
                    </div>
            </div>
            <div class="col-5">
                <h2>Unfinished Translations</h2>
                    <div class="list-group {{ finishscroll }}">
                        {% if unfinished %}
                            {% for response in unfinished %}
                                    <li class="list-group-item list-group-item-light">
                                        <a class="h5" href="{{ response.get_absolute_url }}">
                                        {{ response | linebreaks }}
                                        </a>
                                        <small>{{ response.created|date }} {{ response.created|time }}</small>
                                    </li>
                            {% endfor %}
                        {% else %}
                            <h6 class="lead">
                                No working responses for you yet.
                            </h6>
                        {% endif %}
                    </div>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-5">
                <h3> Your next translation is ready!</h3>
                <br>
                <a class="btn btn-primary btn-lg active"
                   role="button"
                   aria-pressed="true"
                   href="{{ program.get_next_payload_url }}">Start {{ program.programName|capfirst }} Translation
                    Number: {{ program.programCount }}</a>
            </div>
        </div>

    </div>
{% endblock %}